<html>
  <head>
  	<title>A Simple Counter</title>
  	<script type='text/javascript' src='../javascript/flenv.js'></script>
  	<script type='text/javascript' src='../javascript/builtin.js'></script>
  	<script type='text/javascript' src='../javascript/stdlib.js'></script>
  	<script type='text/javascript' src='../javascript/dom.js'></script>
 	<script type='text/javascript' src='../javascript/flasck/flasck.js'></script>
  	<script type='text/javascript' src='../javascript/flasck/handle.js'></script>
  	<script type='text/javascript' src='../javascript/flasck/postbox.js'></script>
  	<script type='text/javascript' src='../javascript/flasck/services.js'></script>
  	<script type='text/javascript' src='../javascript/flasck/wrapper.js'></script>
  	<!-- '../../../../FLAS2/src/test/resources/cards/test.ziniki/test.ziniki.js' -->
  	<script type='text/javascript' src='../scripts/test.ziniki.js'></script>
  </head>
  <body>
  	<script type='text/javascript'>
  	  var doc = document;
  	  var body = doc.getElementsByTagName("body")[0];

// So this is a perfectly normal object we're creating to start the ball rolling
  	  myCounter = new (test.ziniki.CounterObj)(6);
  	  console.log(myCounter);

// Create a new card-containing environment with services
var postbox = new Postbox("main");
var services = {};
Flasck.provideService(postbox, services, 'test.ziniki.Timer', new FlasckServices.TimerService(postbox));
Flasck.provideService(postbox, services, 'org.ziniki.KeyValue', new FlasckServices.KeyValueService(postbox));

	var handle = Flasck.createCard(postbox, body, { explicit: test.ziniki.CounterCard, mode: 'local'}, services);
	handle.send('org.ziniki.KeyValue', 'value', myCounter);
  	</script>
  </body>
</html>