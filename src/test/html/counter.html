<html>
  <head>
  	<title>A Simple Counter</title>
  	<script type='text/javascript' src='../javascript/flenv.js'></script>
  	<script type='text/javascript' src='../javascript/builtin.js'></script>
  	<script type='text/javascript' src='../javascript/flasck.js'></script>
  	<script type='text/javascript' src='../javascript/dom.js'></script>
  	<script type='text/javascript' src='../../../../FLAS2/src/test/resources/cards/test.ziniki/test.ziniki.js'></script>
  </head>
  <body>
  	<script type='text/javascript'>
  	  var doc = document;
  	  var body = doc.getElementsByTagName("body")[0];

// So this is a perfectly normal object we're creating to start the ball rolling
  	  myCounter = new (test.ziniki.CounterObj)({ inc: 3 });
  	  console.log(myCounter);

// Create a new card-containing environment with services
  	  env = new FlasckContainer();
	  env.addService("test.ziniki.Init", new FlasckService.InitService());
	  env.addService("test.ziniki.Timer", new FlasckService.TimerService());
	  env.addService("test.ziniki.OnCounter", new FlasckService.OnTickService());
  	  console.log(env);

	var handle = env.createCard(test.ziniki.CounterCard, body, ['test.ziniki.Init', 'test.ziniki.Timer', 'test.ziniki.OnCounter']);
	
// Tell it to load the basic object, and see what it says
      handle.send('test.ziniki.Init', 'load', myCounter);
  	</script>
  </body>
</html>